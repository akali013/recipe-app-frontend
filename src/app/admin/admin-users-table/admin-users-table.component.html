<div class="users-table-container">
  <app-search-bar (searchEvent)="searchUsers($event)"></app-search-bar>

  <table mat-table [dataSource]="usersDataSource" matSort aria-label="table">
    <!-- User ID Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>User ID</th>
      <td mat-cell *matCellDef="let user">{{user.id}}</td>
    </ng-container>

    <!-- Email column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
      <td mat-cell *matCellDef="let user">{{user.email}}</td>
    </ng-container>

    <!-- Created column -->
    <ng-container matColumnDef="created">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Created</th>
      <td mat-cell *matCellDef="let user">{{user.created | date:"medium"}}</td>
    </ng-container>

    <!-- Updated column -->
    <ng-container matColumnDef="updated">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Updated</th>
      <td mat-cell *matCellDef="let user">{{user.updated | date:"medium"}}</td>
    </ng-container>

    <!-- Ban Status column -->
    <ng-container matColumnDef="ban">
      <th mat-header-cell *matHeaderCellDef>Ban Status</th>
      <td mat-cell *matCellDef="let user">
        <button *ngIf="!user.isBanned" class="ban-button" (click)="toggleBanStatus(user)">
          <img src="../../../assets/ban.png" class="ban-image" alt="Ban user icon" />
        </button>

        <button *ngIf="user.isBanned" class="unban-button" (click)="toggleBanStatus(user)">
          <img src="../../../assets/unban.png" class="ban-image" alt="Unban user icon" />
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="tableColumns"></tr>
    <tr mat-row *matRowDef="let user; columns: tableColumns" (click)="inspectUser(user)"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]" aria-label="Select page of users"></mat-paginator>

  <button class="add-user-button" routerLink="/admin/add-user">
    Add User
  </button>
</div>